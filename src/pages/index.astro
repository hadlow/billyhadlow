---
import Layout from "../layouts/Layout.astro";

const posts = Object.values(import.meta.glob("./blog/*.md", { eager: true }));

const dateOptions: object = {
	year: "numeric",
	month: "long",
	day: "numeric",
};
---

<Layout>
	<div style="max-width: 65ch;">
		<ul>
			{
				posts.map((post: any) => (
					<li>
						<a href={post.url}>
							<div class="rounded md:px-6 py-5 md:-mx-6 transition-colors duration-300 ease-in-out hover:bg-white/10">
								<h4 class="text-lg font-bold mb-2">{post.frontmatter.title}</h4>
								<p class="text-gray-100 mb-2">{post.frontmatter.description}</p>
								<p class="text-gray-100">
									{new Date(post.frontmatter.pubDate).toLocaleDateString(
										"en-US",
										dateOptions,
									)}
								</p>
							</div>
						</a>
					</li>
				))
			}
		</ul>
	</div>
</Layout>
